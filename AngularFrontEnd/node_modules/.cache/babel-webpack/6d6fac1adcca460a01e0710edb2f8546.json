{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/piecz/Desktop/inzynierka/AngularFrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { RectangleDto } from './../../shared/models/device-dto/RectangleDto.model';\nimport { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../services/gmap.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"./../../services/virtual-device.service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"primeng/button\";\nimport * as i6 from \"primeng/gmap\";\n\nconst _c0 = function () {\n  return {\n    \"margin-left\": \"20%\",\n    \"border-radius\": \"15px\",\n    \"width\": \"75%\",\n    \"height\": \"600px\"\n  };\n};\n\nexport class HomeComponent {\n  constructor(gmapService, router, virtualDeviceService) {\n    this.gmapService = gmapService;\n    this.router = router;\n    this.virtualDeviceService = virtualDeviceService;\n    this.virtualDevicesDto = [];\n    this.mapCenter = {\n      lat: 50.88,\n      lng: 20.64\n    };\n    this.bounds = {\n      north: 52.24806411711,\n      south: 49.92978219795803,\n      east: 22.116227569885258,\n      west: 18.613212433166492\n    };\n    this.boundsListener = new BehaviorSubject(this.bounds);\n    this.leftCornerX = this.mapCenter.lng;\n    this.leftCornerY = this.mapCenter.lat;\n    this.rightCornerX = this.mapCenter.lng;\n    this.rightCornerY = this.mapCenter.lat;\n    this.rectangle = new google.maps.Rectangle({\n      strokeColor: \"#000000\",\n      strokeOpacity: 0.8,\n      strokeWeight: 2,\n      fillColor: \"#8F8F8F\",\n      fillOpacity: 0.35,\n      bounds: this.bounds,\n      editable: true,\n      draggable: true\n    });\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.options = {\n        center: _this.mapCenter,\n        zoom: 5\n      };\n      _this.virtualDevicesDto = yield _this.virtualDeviceService.fetchAllVirtualDevices();\n      google.maps.event.addListener(_this.rectangle, 'bounds_changed', () => {\n        _this.bounds.north = _this.rectangle.getBounds().getNorthEast().lat();\n        _this.bounds.east = _this.rectangle.getBounds().getNorthEast().lng();\n        _this.bounds.south = _this.rectangle.getBounds().getSouthWest().lat();\n        _this.bounds.west = _this.rectangle.getBounds().getSouthWest().lng();\n      });\n      _this.overlays = [_this.rectangle];\n      var counter = 0;\n\n      _this.virtualDevicesDto.forEach(vo => {\n        _this.overlays.push(new google.maps.Marker({\n          position: {\n            lat: vo.localizationDto.longitude,\n            lng: vo.localizationDto.latitude\n          },\n          title: counter.toString()\n        }));\n\n        counter++;\n      });\n    })();\n  }\n\n  onRectangleShow(lcx, lcy, rcx, rcy) {\n    this.bounds.north = lcy;\n    this.bounds.south = rcy;\n    this.bounds.west = lcx;\n    this.bounds.east = rcx;\n    this.rectangle.setBounds(this.bounds);\n  }\n\n  onRectangleSubmit() {\n    this.rectangleDto = new RectangleDto(\"searchRectangle\", this.bounds.west, this.bounds.south, this.bounds.east, this.bounds.north);\n    this.gmapService.postRectangleDto(this.rectangleDto).subscribe(response => {\n      console.log(response);\n\n      if (response) {\n        var stringJson;\n        stringJson = JSON.stringify(response.list);\n        this.gmapService.measurmentsResult = JSON.parse(stringJson);\n        this.router.navigate([\"results\"]);\n      }\n    });\n  }\n\n}\n\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.GmapService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.VirtualDeviceService));\n};\n\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 27,\n  vars: 9,\n  consts: [[1, \"RectangleDtoCard\"], [1, \"form-group\"], [\"for\", \"lcx\"], [\"required\", \"\", \"name\", \"lcx\", \"id\", \"lcx\", \"type\", \"number\", \"step\", \"0.000001\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"lcx\", \"ngModel\"], [\"for\", \"lcy\"], [\"required\", \"\", \"name\", \"lcy\", \"id\", \"lcy\", \"type\", \"number\", \"step\", \"0.000001\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"lcy\", \"ngModel\"], [\"for\", \"rcx\"], [\"required\", \"\", \"name\", \"rcx\", \"id\", \"rcx\", \"type\", \"number\", \"step\", \"0.000001\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"rcx\", \"ngModel\"], [\"for\", \"rcy\"], [\"required\", \"\", \"value\", \"bounds.south\", \"name\", \"rcy\", \"id\", \"rcy\", \"type\", \"number\", \"step\", \"0.000001\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"rcy\", \"ngModel\"], [1, \"button-container\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"label\", \"Show\", \"icon\", \"far fa-eye\", \"iconPos\", \"right\", 1, \"p-button-rounded\", \"show-button\", 3, \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"type\", \"button\", \"label\", \"Submit\", \"icon\", \"fas fa-paper-plane\", \"iconPos\", \"right\", 1, \"p-button-rounded\", \"submit-button\", 3, \"click\"], [3, \"options\", \"overlays\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r4 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelement(0, \"hr\");\n      i0.ɵɵelementStart(1, \"div\", 0);\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵelementStart(3, \"label\", 2);\n      i0.ɵɵtext(4, \"Left corner X coordinate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"input\", 3, 4);\n      i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.bounds.west = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 1);\n      i0.ɵɵelementStart(8, \"label\", 5);\n      i0.ɵɵtext(9, \"Left corner Y coordinate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 6, 7);\n      i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.bounds.north = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 1);\n      i0.ɵɵelementStart(13, \"label\", 8);\n      i0.ɵɵtext(14, \"Right corner X coordinate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"input\", 9, 10);\n      i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.bounds.east = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 1);\n      i0.ɵɵelementStart(18, \"label\", 11);\n      i0.ɵɵtext(19, \"Right corner Y coordinate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"input\", 12, 13);\n      i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_20_listener($event) {\n        return ctx.bounds.south = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 14);\n      i0.ɵɵelementStart(23, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_23_listener() {\n        i0.ɵɵrestoreView(_r4);\n\n        const _r0 = i0.ɵɵreference(6);\n\n        const _r1 = i0.ɵɵreference(11);\n\n        const _r2 = i0.ɵɵreference(16);\n\n        const _r3 = i0.ɵɵreference(21);\n\n        return ctx.onRectangleShow(_r0.value, _r1.value, _r2.value, _r3.value);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"button\", 16);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_button_click_24_listener() {\n        return ctx.onRectangleSubmit();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"p-gmap\", 17);\n      i0.ɵɵelement(26, \"hr\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.bounds.west);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.bounds.north);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.bounds.east);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.bounds.south);\n      i0.ɵɵadvance(5);\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(8, _c0));\n      i0.ɵɵproperty(\"options\", ctx.options)(\"overlays\", ctx.overlays);\n    }\n  },\n  directives: [i4.NumberValueAccessor, i4.DefaultValueAccessor, i4.RequiredValidator, i4.NgControlStatus, i4.NgModel, i5.ButtonDirective, i6.GMap],\n  styles: [\".container[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 600px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.RectangleDtoCard[_ngcontent-%COMP%] {\\n  color: #ffffff;\\n  padding: 10px;\\n  position: absolute;\\n  width: 17%;\\n  height: 410px;\\n  margin-top: 95px;\\n  margin-left: 20px;\\n  border-radius: 15px;\\n  background-color: #484848;\\n  border: 1px solid #ee6002;\\n}\\n\\n.button-container[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-evenly;\\n  align-items: center;\\n}\\n\\n[_nghost-%COMP%]     .my-input-number {\\n  width: 10% !important;\\n}\\n\\n[_nghost-%COMP%]     .submit-button {\\n  margin-left: 15px !important;\\n  background: #282828;\\n  border: none;\\n  color: #44f5d8;\\n  width: 100px;\\n}\\n\\n.show-button[_ngcontent-%COMP%] {\\n  background: #282828;\\n  border: none;\\n  color: #ee6002;\\n  width: 100px;\\n}\\n\\n[_nghost-%COMP%]     .form-control {\\n  background-color: #282828 !important;\\n  color: #ffffff;\\n  border-radius: 15px;\\n  border: none;\\n}\\n\\n.label[_ngcontent-%COMP%] {\\n  color: #ffffff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FBQ0Y7O0FBQ0E7RUFDRSxjQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLGFBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx5QkFBQTtFQUNBLHlCQUFBO0FBRUY7O0FBQ0E7RUFDRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLDZCQUFBO0VBQ0EsbUJBQUE7QUFFRjs7QUFDQTtFQUNFLHFCQUFBO0FBRUY7O0FBQ0E7RUFDRSw0QkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7RUFDQSxZQUFBO0FBRUY7O0FBQ0E7RUFDRSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0VBRUQsWUFBQTtBQUNEOztBQUVBO0VBQ0Usb0NBQUE7RUFDQSxjQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSxjQUFBO0FBQ0YiLCJmaWxlIjoiaG9tZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXJ7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiA2MDBweDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuLlJlY3RhbmdsZUR0b0NhcmR7XHJcbiAgY29sb3I6I2ZmZmZmZjtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB3aWR0aDogMTclO1xyXG4gIGhlaWdodDogNDEwcHg7XHJcbiAgbWFyZ2luLXRvcDogOTVweDtcclxuICBtYXJnaW4tbGVmdDogMjBweDtcclxuICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM0ODQ4NDg7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiKDIzOCwgOTYsIDIpO1xyXG59XHJcblxyXG4uYnV0dG9uLWNvbnRhaW5lcntcclxuICB3aWR0aDogMTAwJTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAubXktaW5wdXQtbnVtYmVye1xyXG4gIHdpZHRoOiAxMCUgIWltcG9ydGFudDtcclxufVxyXG5cclxuOmhvc3QgOjpuZy1kZWVwIC5zdWJtaXQtYnV0dG9ue1xyXG4gIG1hcmdpbi1sZWZ0OiAxNXB4ICFpbXBvcnRhbnQ7XHJcbiAgYmFja2dyb3VuZDogIzI4MjgyODtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgY29sb3I6IHJnYig2OCwgMjQ1LCAyMTYpO1xyXG4gIHdpZHRoOiAxMDBweDtcclxufVxyXG5cclxuLnNob3ctYnV0dG9ue1xyXG4gIGJhY2tncm91bmQ6ICMyODI4Mjg7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGNvbG9yOiByZ2IoMjM4LCA5NiwgMik7XHJcbiAgLy9maXhlZCBuYXJhemllXHJcbiB3aWR0aDogMTAwcHg7XHJcbn1cclxuXHJcbjpob3N0IDo6bmctZGVlcCAuZm9ybS1jb250cm9se1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMyODI4MjggIWltcG9ydGFudDtcclxuICBjb2xvcjogI2ZmZmZmZjtcclxuICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gIGJvcmRlcjogbm9uZTtcclxufVxyXG5cclxuLmxhYmVse1xyXG4gIGNvbG9yOiAjZmZmZmZmO1xyXG59XHJcbiJdfQ== */\"]\n});","map":{"version":3,"sources":["C:\\Users\\piecz\\Desktop\\inzynierka\\AngularFrontEnd\\src\\app\\components\\home\\home.component.ts","C:\\Users\\piecz\\Desktop\\inzynierka\\AngularFrontEnd\\src\\app\\components\\home\\home.component.html"],"names":[],"mappings":"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","sourcesContent":["import { VirtualObjectDto } from './../../shared/models/device-dto/VirtualObjectDto.model';\nimport { VirtualDeviceService } from './../../services/virtual-device.service';\nimport { RectangleDto } from './../../shared/models/device-dto/RectangleDto.model';\nimport { Router } from '@angular/router';\nimport { GmapService } from './../../services/gmap.service';\nimport { Component, OnInit } from '@angular/core';\nimport {GMap} from 'primeng/gmap';\nimport { BehaviorSubject } from 'rxjs';\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent implements OnInit {\n\n  options: any;\n\n  overlays: any[];\n\n  rectangleDto:RectangleDto;\n\n  virtualDevicesDto: VirtualObjectDto[] = [];\n\n  mapCenter =  {lat: 50.88, lng: 20.64};\n\n  bounds = {\n    north: 52.24806411711,\n    south: 49.92978219795803,\n    east: 22.116227569885258,\n    west: 18.613212433166492,\n  };\n\n  boundsListener=  new BehaviorSubject(this.bounds);\n\n  leftCornerX: number = this.mapCenter.lng;\n  leftCornerY: number = this.mapCenter.lat;\n  rightCornerX: number = this.mapCenter.lng;\n  rightCornerY: number= this.mapCenter.lat;\n\n\n  rectangle = new google.maps.Rectangle({\n    strokeColor: \"#000000\",\n    strokeOpacity: 0.8,\n    strokeWeight: 2,\n    fillColor: \"#8F8F8F\",\n    fillOpacity: 0.35,\n    bounds: this.bounds,\n    editable: true,\n    draggable: true\n    });\n\n\n  constructor(private gmapService:GmapService, private router:Router, private virtualDeviceService: VirtualDeviceService) { }\n\n  async ngOnInit(): Promise<void> {\n\n    this.options = {\n      center: this.mapCenter,\n      zoom: 5\n  };\n\n\n  this.virtualDevicesDto = await this.virtualDeviceService.fetchAllVirtualDevices();\n\n  google.maps.event.addListener(this.rectangle, 'bounds_changed',  () => {\n   this.bounds.north = this.rectangle.getBounds()!.getNorthEast().lat();\n   this.bounds.east = this.rectangle.getBounds()!.getNorthEast().lng();\n   this.bounds.south = this.rectangle.getBounds()!.getSouthWest().lat();\n   this.bounds.west = this.rectangle.getBounds()!.getSouthWest().lng();\n});\n\n  this.overlays = [\n    this.rectangle\n   ];\n   var counter = 0;\n   this.virtualDevicesDto.forEach(vo => {\n\n\n     this.overlays.push(\n      new google.maps.Marker({position: {lat: vo.localizationDto.longitude, lng: vo.localizationDto.latitude}, title:counter.toString()}),\n     )\n     counter++;\n   });\n\n  }\n\n\n\n  onRectangleShow(lcx:number, lcy:number, rcx:number,rcy:number){\n    this.bounds.north = lcy;\n    this.bounds.south = rcy;\n    this.bounds.west = lcx;\n    this.bounds.east = rcx;\n\n    this.rectangle.setBounds(this.bounds);\n  }\n\n  onRectangleSubmit(){\n    this.rectangleDto = new RectangleDto(\"searchRectangle\",\n    this.bounds.west,\n    this.bounds.south,\n    this.bounds.east,\n    this.bounds.north\n    );\n\n    this.gmapService.postRectangleDto(this.rectangleDto).subscribe(response =>{\n      console.log(response);\n     if(response){\n       var stringJson: any;\n       stringJson = JSON.stringify(response.list);\n       this.gmapService.measurmentsResult = JSON.parse(stringJson);\n       this.router.navigate([\"results\"]);\n     }\n\n  });\n}\n}\n","<hr>\n<div class=\"RectangleDtoCard\">\n  <div class=\"form-group\">\n    <label for=\"lcx\">Left corner X coordinate</label>\n    <input\n    required\n    #lcx=\"ngModel\"\n    [(ngModel)]=\"bounds.west\"\n    name =\"lcx\"\n    id=\"lcx\"\n    type=\"number\"\n    step = \"0.000001\"\n    class=\"form-control\">\n  </div>\n\n  <div class=\"form-group\">\n    <label for=\"lcy\">Left corner Y coordinate</label>\n    <input\n    required\n    #lcy=\"ngModel\"\n    [(ngModel)]=\"bounds.north\"\n    name =\"lcy\"\n    id=\"lcy\"\n    type=\"number\"\n    step = \"0.000001\"\n    class=\"form-control\">\n  </div>\n  <div class=\"form-group\">\n    <label for=\"rcx\">Right corner X coordinate</label>\n    <input\n    required\n    #rcx=\"ngModel\"\n    [(ngModel)]=\"bounds.east\"\n    name =\"rcx\"\n    id=\"rcx\"\n    type=\"number\"\n    step = \"0.000001\"\n    class=\"form-control\">\n  </div>\n  <div class=\"form-group\">\n    <label for=\"rcy\">Right corner Y coordinate</label>\n    <input\n    required\n    #rcy=\"ngModel\"\n    [(ngModel)]=\"bounds.south\"\n    value = \"bounds.south\"\n    name =\"rcy\"\n    id=\"rcy\"\n    type=\"number\"\n    step = \"0.000001\"\n    class=\"form-control\">\n  </div>\n\n  <div class=\"button-container\">\n    <button pButton pRipple\n    type=\"button\"\n    label=\"Show\"\n    class=\"p-button-rounded show-button \"\n    icon=\"far fa-eye\"\n    iconPos=\"right\"\n    (click)=\"onRectangleShow(lcx.value, lcy.value, rcx.value, rcy.value)\"\n    ></button>\n\n\n    <button pButton pRipple\n    type=\"button\"\n    label=\"Submit\"\n    class=\"p-button-rounded submit-button\"\n    icon=\"fas fa-paper-plane\"\n    iconPos=\"right\"\n    (click)=\"onRectangleSubmit()\"\n    ></button>\n  </div>\n\n</div>\n  <p-gmap [options]=\"options\" [overlays]=\"overlays\" [style]=\"{'margin-left':'20%', 'border-radius': '15px','width':'75%','height':'600px'}\" ></p-gmap>\n<hr>\n\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}