{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/piecz/Desktop/kryptowaluty/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { tap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class VirtualDeviceService {\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n  }\n\n  getVirtualObjectDetails(macAdr, channelNumber) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      console.log(channelNumber);\n      const t = yield _this.httpClient.get('http://127.0.0.1:9069/virtualDevices/get/' + macAdr + \"/\" + channelNumber).toPromise();\n      return t;\n    })();\n  }\n\n  postVirtualObjectInitDto(virtualObjectInitDto) {\n    return this.httpClient.post(\"http://127.0.0.1:9069/virtualDevices/add\", virtualObjectInitDto);\n  }\n\n  postVirtualSensorInitDto(virtualSensorInitDto) {\n    return this.httpClient.post(\"http://127.0.0.1:9069/virtualDevices/add/Sensor\", virtualSensorInitDto);\n  }\n\n  fetchAllVirtualDevices() {\n    return this.httpClient.get(\"http://127.0.0.1:9069/virtualDevices/getall\").pipe(tap(response => {\n      this._virtualObjectList = response;\n    }));\n  }\n\n}\n\nVirtualDeviceService.ɵfac = function VirtualDeviceService_Factory(t) {\n  return new (t || VirtualDeviceService)(i0.ɵɵinject(i1.HttpClient));\n};\n\nVirtualDeviceService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: VirtualDeviceService,\n  factory: VirtualDeviceService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["C:\\Users\\piecz\\Desktop\\kryptowaluty\\src\\app\\services\\virtual-device.service.ts"],"names":[],"mappings":";AAKA,SAAS,GAAT,QAAoB,gBAApB;;;AAKA,OAAM,MAAO,oBAAP,CAA2B;AAM/B,EAAA,WAAA,CAAoB,UAApB,EAA0C;AAAtB,SAAA,UAAA,GAAA,UAAA;AAA2B;;AAEzC,EAAA,uBAAuB,CAAC,MAAD,EAAiB,aAAjB,EAAqC;AAAA;;AAAA;AAEhE,MAAA,OAAO,CAAC,GAAR,CAAY,aAAZ;AACA,YAAM,CAAC,SAAS,KAAI,CAAC,UAAL,CAAgB,GAAhB,CAAwC,8CAA4C,MAA5C,GAAmD,GAAnD,GAAuD,aAA/F,EAA8G,SAA9G,EAAhB;AACA,aAAO,CAAP;AAJgE;AAMnE;;AAEC,EAAA,wBAAwB,CAAC,oBAAD,EAA2C;AACjE,WAAO,KAAK,UAAL,CAAgB,IAAhB,CAA0B,0CAA1B,EAAsE,oBAAtE,CAAP;AACD;;AAED,EAAA,wBAAwB,CAAC,oBAAD,EAA2C;AACjE,WAAO,KAAK,UAAL,CAAgB,IAAhB,CAA0B,iDAA1B,EAA6E,oBAA7E,CAAP;AACD;;AAED,EAAA,sBAAsB,GAAA;AACpB,WAAO,KAAK,UAAL,CAAgB,GAAhB,CAAwC,6CAAxC,EAAuF,IAAvF,CACL,GAAG,CAAC,QAAQ,IAAG;AACb,WAAK,kBAAL,GAA0B,QAA1B;AACD,KAFE,CADE,CAAP;AAKD;;AA9B8B;;;mBAApB,oB,EAAoB,EAAA,CAAA,QAAA,CAAA,EAAA,CAAA,UAAA,C;AAAA,C;;;SAApB,oB;AAAoB,EAAA,OAAA,EAApB,oBAAoB,CAAA,I;AAAA,EAAA,UAAA,EAFnB","sourcesContent":["import { VirtualSensorInitDto } from './../shared/models/device-dto/VirtualSensorInitDto.model';\nimport { VirtualObjectInitDto } from './../shared/models/device-dto/VirtualObjectInitDto.model';\nimport { VirtualObjectDto } from './../shared/models/device-dto/VirtualObjectDto.model';\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { tap } from 'rxjs/operators';\nimport { BehaviorSubject } from 'rxjs';\n@Injectable({\n  providedIn: 'root'\n})\nexport class VirtualDeviceService {\n\n  selectedMac: BehaviorSubject<String>;\n  selectedChannelNumber: BehaviorSubject<number>;\n  _virtualObjectList: VirtualObjectDto[];\n\n  constructor(private httpClient: HttpClient) { }\n\n  async getVirtualObjectDetails(macAdr: String, channelNumber:number): Promise<any>{\n\n    console.log(channelNumber);\n    const t = await this.httpClient.get<VirtualObjectDto[]>('http://127.0.0.1:9069/virtualDevices/get/'+macAdr+\"/\"+channelNumber).toPromise();\n    return t;\n\n}\n\n  postVirtualObjectInitDto(virtualObjectInitDto: VirtualObjectInitDto){\n    return this.httpClient.post<any>(\"http://127.0.0.1:9069/virtualDevices/add\", virtualObjectInitDto);\n  }\n\n  postVirtualSensorInitDto(virtualSensorInitDto: VirtualSensorInitDto){\n    return this.httpClient.post<any>(\"http://127.0.0.1:9069/virtualDevices/add/Sensor\", virtualSensorInitDto);\n  }\n\n  fetchAllVirtualDevices(){\n    return this.httpClient.get<VirtualObjectDto[]>(\"http://127.0.0.1:9069/virtualDevices/getall\").pipe(\n      tap(response =>{\n        this._virtualObjectList = response;\n      })\n     )\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}